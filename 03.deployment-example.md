# Minimal configuration file

```yaml
# deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: nginx-deployment # Sets the name of the Deployment to nginx-deployment
spec:
  selector: # The selector tells Kubernetes which Pods belong to this Deployment.
    matchLabels:
      app: nginx-app # It selects Pods that have the label app: nginx-app
  template: # Defining the Pod Template, This is the Pod template, which defines what each Pod should look like
    metadata:
      labels: # The labels here must match the selector.matchLabels above
        app: nginx-app
    spec:
      containers: # Defines a container inside the Pod
      - name: nginx-container # The container's name
        image: nginx:1.27.4 # Uses the official nginx image from Docker Hub
```

# kubectl apply

```bash
(base) ┌──(klx㉿kali)-[~/Desktop/note-k8s] (main)
└─$ kubectl get all
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.96.0.1    <none>        443/TCP   8h

(base) ┌──(klx㉿kali)-[~/Desktop/note-k8s] (main)
└─$ kubectl apply -f deployment.yaml
deployment.apps/nginx-deployment created

(base) ┌──(klx㉿kali)-[~/Desktop/note-k8s] (main)
└─$ kubectl get all                 
NAME                                    READY   STATUS              RESTARTS   AGE
pod/nginx-deployment-59bb5b4c6c-sq68l   0/1     ContainerCreating   0          6s

NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.96.0.1    <none>        443/TCP   8h

NAME                               READY   UP-TO-DATE   AVAILABLE   AGE
deployment.apps/nginx-deployment   0/1     1            0           6s

NAME                                          DESIRED   CURRENT   READY   AGE
replicaset.apps/nginx-deployment-59bb5b4c6c   1         1         0       6s

(base) ┌──(klx㉿kali)-[~/Desktop/note-k8s] (main)
└─$ 
```

# Clean up

```bash
(base) ┌──(klx㉿kali)-[~/Desktop/note-k8s] (main)
└─$ kubectl delete deployment nginx-deployment
deployment.apps "nginx-deployment" deleted

(base) ┌──(klx㉿kali)-[~/Desktop/note-k8s] (main)
└─$ kubectl get all                           
NAME                 TYPE        CLUSTER-IP   EXTERNAL-IP   PORT(S)   AGE
service/kubernetes   ClusterIP   10.96.0.1    <none>        443/TCP   8h

(base) ┌──(klx㉿kali)-[~/Desktop/note-k8s] (main)
└─$ 
```